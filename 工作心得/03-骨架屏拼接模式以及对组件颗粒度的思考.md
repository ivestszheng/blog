## 前言

上一篇文章总结了我给 DevUI 开发骨架屏（Skeleton）的一些心得，Kagol 老师看到之后给我提出增加拼接模式的建议。其实认真来说写代码只用了一晚上，拖了这么久一方面是最近换了个项目组工作量大了许多（~~才不是因为 lol 手游和云顶 S6 的关系~~），另一方面思考如何去设计且让 API 与默认模式保持一致，在这过程中我对组件颗粒度的有了新的思考。

![Kagol 拼接模式建议](https://raw.githubusercontent.com/ivestszheng/images-store/master/img/20211114214832.png)

## 两种模式

### 默认模式

可以简单地理解为是一种内置的拼接模式。

### 拼接模式

完整的骨架屏被拆成细粒度的骨架屏元素，从图形的角度可以分为圆形和矩形，从功能的角度可以分为占位头像、占位图像、占位标题、占位内容、占位按钮。

### 比较

相比默认模式，细粒度的骨架屏元素给使用这个组件的开发者提供了更大的灵活和定制能力。市面上，Element-ui 和 Vant-ui 采用默认模式，抖音的 SemiDesign 采用拼接模式，Antd 则兼具二者。似乎 React 的组件库会更倾向于细粒度？

## API设计

- API 比直接 css 方便在哪里
- 两种模式如何保持 API 统一

## 实现