# 混合

混合就是将一系列属性从一个规则集引入到另一个规则集的方式

## 01-普通混合

```less
.center{
    width: 100px;
    margin: auto;
}

#wrap{
    background: blue;
    .inner{
        .center
    }
    .inner2{
        .center
    }
}
```

编译为

```css
.center{
    width: 100px;
    margin: auto;
}

#wrap {
    background:blue;
}

#wrap .inner{
    width: 100px;
    margin: auto;
}

#wrap .inner2{
    width: 100px;
    margin: auto;
}
```



## 02-不带输出的混合

普通混合虽然能实现规则集的引入，但是编译时会引入`.center`，文件体积会变大。把它修改成`center()`,编译后不会输出。

```less
.center(){
    width: 100px;
    margin: auto;
}

#wrap{
    background: blue;
    .inner{
        .center
    }
    .inner2{
        .center
    }
}
```

编译为

```css
#wrap {
    background:blue;
}

#wrap .inner{
    width: 100px;
    margin: auto;
}

#wrap .inner2{
    width: 100px;
    margin: auto;
}
```

## 03-带参数的混合

混合中还能加入参数

```less
.center(@w,@h){
    width: @w;
    height: @h;
    margin: auto;
}

#wrap{
    background: blue;
    .inner{
        .center(100px,100px)
    }
    .inner2{
        .center(50px,25px)
    }
}
```

编译为

```css
#wrap {
    background:blue;
}

#wrap .inner{
    width: 100px;
    height: 100px;
    margin: auto;
}

#wrap .inner2{
    width: 50px;
    height: 25px;
    margin: auto;
}
```

## 04-带参数且有默认值的混合

带参数的混合在使用时必须要传参，为了使用更加便捷，可以给参数加上默认值，这样即便调用时不传参，编译时也不会报错。

```less
.center(@w:100px,@h:100px){
    width: @w;
    height: @h;
    margin: auto;
}

#wrap{
    background: blue;
    .inner{
        .center()
    }
    .inner2{
        .center(50px,25px)
    }
}
```

编译为

```css
#wrap {
    background:blue;
}

#wrap .inner{
    width: 100px;
    height: 100px;
    margin: auto;
}

#wrap .inner2{
    width: 50px;
    height: 25px;
    margin: auto;
}
```

## 05-命名参数

如果只想给其中一个参数赋值，其它使用默认值该怎么做呢？这时需要用到命名参数。

```less
.center(@w:100px,@h:100px){
    width: @w;
    height: @h;
    margin: auto;
}

#wrap{
    background: blue;
    .inner{
        .center(@h:200px)
    }
    .inner2{
        .center(50px,25px)
    }
}
```

这时`#wrap .inner`的`heihgt`变成了`200px`，`width`依然是默认值`100px`。

## 06-匹配模式

现在有如下代码，实现了一个朝上的红色三角形

```css
.triangle {
    width: 0;
    height: 0;
    border: 40px solid;
    border-color: transparent transparent red;
}
```

![三角形](https://raw.githubusercontent.com/ivestszheng/images-store/master/img/20210506153746.png)

可以对它做如下修改

```less
// 首个参数加上@_之后
// 调用下面的混合时会自动调用同名混合
// 主要用来处理一些重复的属性
.triangle(@_) {
    width: 0;
    height: 0;
}
// 得到一个朝上的三角形
.triangle(T,@width:40px,@color:red) {
    border: @width solid;
    border-color: transparent transparent @color;
}
// 得到一个朝下的三角形
.triangle(B,@width:40px,@color:red) {
    border: @width solid;
    border-color: @color transparent transparent;
}
// 得到一个朝左的三角形
.triangle(L,@width:40px,@color:red) {
    border: @width solid;
    border-color: transparent @color transparent;
}
// 得到一个朝右的三角形
.triangle(R,@width:40px,@color:red) {
    border: @width solid;
    border-color: transparent transparent transparent @color;
}
```

这里的的`T,B,L,R`叫匹配符，假设现在需要一个宽度`60px`朝左的`蓝色`三角形，代码如下:

```less
.triangle(L,60px,blue)
```

## 07-arguments变量

如果传的参数太多，不想一个个处理，可以直接使用`@arguments`

```less
.box-shadow(@x: 0, @y: 0, @blur: 1px, @color: #000) {
  box-shadow: @arguments;
  -moz-box-shadow: @arguments;
  -webkit-box-shadow: @arguments;
}

.box-shadow(2px, 5px);
```

编译为

```less
.box-shadow{
    box-shadow: 2px 5px 1px #000;
    -moz-box-shadow: 2px 5px 1px #000;
    -webkit-box-shadow: 2px 5px 1px #000;
}
```